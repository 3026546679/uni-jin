{"version":3,"sources":["webpack:///F:/gs/uni-jin/components/jin-attachment/jin-attachment.vue?5f1a","webpack:///F:/gs/uni-jin/components/jin-attachment/jin-attachment.vue?3f9f","webpack:///F:/gs/uni-jin/components/jin-attachment/jin-attachment.vue?260a","webpack:///F:/gs/uni-jin/components/jin-attachment/jin-attachment.vue?a4f7","webpack:///F:/gs/uni-jin/components/jin-attachment/jin-attachment.vue","webpack:///F:/gs/uni-jin/components/jin-attachment/jin-attachment.vue?2eb1","webpack:///F:/gs/uni-jin/components/jin-attachment/jin-attachment.vue?ed87"],"names":["props","attachmentList","type","Array","mode","String","uploadFileUrl","dafault","showProcess","Boolean","default","header","Object","limit","Number","fileKeyName","canUploadFile","computed","list","data","methods","previewImg","url","uni","previewImage","current","urls","downLoad","showModal","title","content","success","res","confirm","showLoading","console","log","downloadFile","tempFile","tempFilePath","saveFile","savedFilePath","hideLoading","showToast","openDocument","filePath","fail","icon","setTimeout","deleteItem","index","process","uploadTask","abort","splice","$forceUpdate","$emit","chooseFile","isNaN","length","chooseImage","count","sizeType","sourceType","temps","tempFiles","tempFilePaths","showActionSheet","itemList","tapIndex","Promise","resolve","reject","wx","chooseMessageFile","map","ele","path","fileNames","name","i","fileName","split","push","isImg","uploadFile","headers","statusCode","$set","onProgressUpdate","progress","lastIndexOf","ext","substr","temp","indexOf","toLowerCase"],"mappings":"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","file":"components/jin-attachment/jin-attachment.js","sourcesContent":["import { render, staticRenderFns } from \"./jin-attachment.vue?vue&type=template&id=1a5a146e&scoped=true&\"\nimport script from \"./jin-attachment.vue?vue&type=script&lang=js&\"\nexport * from \"./jin-attachment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./jin-attachment.vue?vue&type=style&index=0&id=1a5a146e&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1a5a146e\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('1a5a146e', component.options)\n    } else {\n      api.reload('1a5a146e', component.options)\n    }\n    module.hot.accept(\"./jin-attachment.vue?vue&type=template&id=1a5a146e&scoped=true&\", function () {\n      api.rerender('1a5a146e', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"F:/gs/uni-jin/components/jin-attachment/jin-attachment.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./jin-attachment.vue?vue&type=template&id=1a5a146e&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./jin-attachment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./jin-attachment.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tprops: {\n\t\tattachmentList: {\n\t\t\ttype: Array //附件列表\n\t\t},\n\t\tmode: {\n\t\t\ttype: String //模式： create => 可新增或编辑附件 不填或其他 => 只能查看附件\n\t\t},\n\t\tuploadFileUrl: {\n\t\t\ttype: String,\n\t\t\tdafault: '#' // 上传文件的服务器url\n\t\t},\n\t\tshowProcess: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true //是否显示进度，默认显示\n\t\t},\n\t\theader: {\n\t\t\ttype: Object //上传图片到服务器时，HTTP 请求 Header\n\t\t},\n\t\tlimit: {\n\t\t\ttype: Number, //限制可上传的图片数量\n\t\t\tdefault: null\n\t\t},\n\t\tfileKeyName: {\n\t\t\ttype: String,\n\t\t\tdefault: 'file' //用于在服务端通过自定义key值获取该文件数据\n\t\t},\n\t\tcanUploadFile: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t}\n\t},\n\tcomputed: {\n\t\tlist() {\n\t\t\treturn this.attachmentList;\n\t\t}\n\t},\n\tdata() {\n\t\treturn {};\n\t},\n\tmethods: {\n\t\tpreviewImg(url) {\n\t\t\tuni.previewImage({\n\t\t\t\tcurrent: 0,\n\t\t\t\turls: [url]\n\t\t\t});\n\t\t},\n\t\tdownLoad(url) {\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '确定要下载此附件吗',\n\t\t\t\tcontent: ' ',\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\t\ttitle: '下载中,请稍后'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tconsole.log(url);\n\t\t\t\t\t\tuni.downloadFile({\n\t\t\t\t\t\t\turl: url,\n\t\t\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\t\t\tvar tempFile = res.tempFilePath;\n\t\t\t\t\t\t\t\tuni.saveFile({\n\t\t\t\t\t\t\t\t\ttempFilePath: res.tempFilePath,\n\t\t\t\t\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\t\t\t\t\tvar savedFilePath = res.savedFilePath;\n\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\ttitle: '保存成功，路径为' + savedFilePath\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\tuni.openDocument({\n\t\t\t\t\t\t\t\t\t\t\tfilePath: savedFilePath,\n\t\t\t\t\t\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail: res => {\n\t\t\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: '下载失败',\n\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t}, 20000);\n\n\t\t\t\t\t\t// downloadTask.onProgressUpdate((res) => {\n\t\t\t\t\t\t//     console.log('下载中,进度' +  res.progress)\n\t\t\t\t\t\t// });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tdeleteItem(index) {\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '提示',\n\t\t\t\tcontent: '确定要删除此项吗？',\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\tif (this.list[index].process != 100) {\n\t\t\t\t\t\t\ttypeof this.list[index].uploadTask != 'undefined' && this.list[index].uploadTask.abort();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.list.splice(index, 1);\n\t\t\t\t\t\tthis.$forceUpdate();\n\t\t\t\t\t\tthis.$emit('update:attachmentList', this.list);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tasync chooseFile() {\n\t\t\tif (this.limit != null && !isNaN(this.limit)) {\n\t\t\t\tif (this.list.length >= this.limit) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '已达到最大上传数量',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar canUploadFile = this.canUploadFile;\n\t\t\t// 非APP平台不可以上传文件\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\t\tif (!canUploadFile) {\n\t\t\t\tvar temps = await uni.chooseImage({\n\t\t\t\t\tcount: this.limit == null || this.limit - this.list.length > 9 ? 9 : 9 - limit,\n\t\t\t\t\tsizeType: ['original', 'compressed'], //可以指定是原图还是压缩图，默认二者都有\n\t\t\t\t\tsourceType: ['album'] //从相册选择\n\t\t\t\t});\n\n\t\t\t\tif (typeof temps[1] == 'undefined') {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar tempFiles = temps[1].tempFilePaths;\n\t\t\t} else {\n\n\t\t\t\tvar res = await uni.showActionSheet({\n\t\t\t\t\titemList: ['选择图片', '选择文件']\n\t\t\t\t})\n\t\t\t\tif (res[1].tapIndex == 0) {\n\t\t\t\t\tvar temps = await uni.chooseImage({\n\t\t\t\t\t\tcount: this.limit == null || this.limit - this.list.length > 9 ? 9 : 9 - limit,\n\t\t\t\t\t\tsizeType: ['original', 'compressed'], //可以指定是原图还是压缩图，默认二者都有\n\t\t\t\t\t\tsourceType: ['album'] //从相册选择\n\t\t\t\t\t});\n\n\t\t\t\t\tif (typeof temps[1] == 'undefined') {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tvar tempFiles = temps[1].tempFilePaths;\n\t\t\t\t} else {\n\t\t\t\t\t//微信从客户端选择文件\n\t\t\t\t\tvar temps = await new Promise((resolve, reject) => {\n\t\t\t\t\t\twx.chooseMessageFile({\n\t\t\t\t\t\t\tcount: this.limit == null || this.limit - this.list.length > 9 ? 9 : 9 - limit,\n\t\t\t\t\t\t\ttype: 'file',\n\t\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t\t// tempFilePath可以作为img标签的src属性显示图片\n\t\t\t\t\t\t\t\tconst tempFilePaths = res.tempFiles;\n\t\t\t\t\t\t\t\tresolve(tempFilePaths);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t\tvar tempFiles = temps.map((ele, index) => {\n\t\t\t\t\t\treturn ele.path;\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t\tvar fileNames = temps.map((ele, index) => {\n\t\t\t\t\t\treturn ele.name;\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t}\n\t\n\n\t\t\tfor (let i in tempFiles) {\n\t\t\t\tlet path = tempFiles[i];\n\t\t\t\tif(typeof fileNames != 'undefined' && typeof fileNames[i] != 'undefined') {\n\t\t\t\t\tvar fileName = fileNames[i];\n\t\t\t\t}else{\n\t\t\t\t\tvar fileName = path.split('/');\n\t\t\t\t\tfileName = fileName[fileName.length - 1];\n\t\t\t\t}\n\t\t\t\tlet index = this.list.length;\n\n\t\t\t\t// 开始上传，先暂存文件\n\t\t\t\tthis.list.push({\n\t\t\t\t\tfileName: fileName,\n\t\t\t\t\turl: path,\n\t\t\t\t\ttype: this.isImg(path) ? 'image' : 'file',\n\t\t\t\t\tindex: index,\n\t\t\t\t\tuploadTask: uploadTask,\n\t\t\t\t\tprocess: 0\n\t\t\t\t});\n\t\t\t\tthis.$forceUpdate();\n\n\t\t\t\tvar uploadTask = await uni.uploadFile({\n\t\t\t\t\turl: this.uploadFileUrl,\n\t\t\t\t\tfilePath: path,\n\t\t\t\t\tname: this.fileKeyName,\n\t\t\t\t\theaders: this.header,\n\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\t// 上传完成后处理\n\t\t\t\t\t\tthis.$emit('uploadSuccess', res);\n\t\t\t\t\t\tif (res.statusCode  == 200) {\n\t\t\t\t\t\t\tthis.$set(this.list[index], 'process', 100);\n\t\t\t\t\t\t\tthis.$emit('update:attachmentList', this.list);\n\t\t\t\t\t\t\tthis.$forceUpdate();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tuploadTask.onProgressUpdate(res => {\n\t\t\t\t\t//此接口不显示真实进度， 所以需要特殊处理\n\t\t\t\t\tif (res.progress < 90) {\n\t\t\t\t\t\tthis.$set(this.list[index], 'process', res.progress);\n\t\t\t\t\t\tthis.$forceUpdate();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t//根据文件名，返回时是否是图片类型\n\t\tisImg(filePath) {\n\t\t\tlet index = filePath.lastIndexOf('.');\n\t\t\tlet ext = filePath.substr(index + 1);\n\t\t\tvar temp = ['png', 'jpg', 'jpeg', 'bmp', 'gif', 'webp', 'svg', 'tiff'].indexOf(ext.toLowerCase()) !== -1;\n\t\t\treturn temp;\n\t\t}\n\t}\n};\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--10-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--10-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--10-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\less-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./jin-attachment.vue?vue&type=style&index=0&id=1a5a146e&lang=less&scoped=true&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--10-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--10-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--10-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\less-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./jin-attachment.vue?vue&type=style&index=0&id=1a5a146e&lang=less&scoped=true&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}